<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="sortcut icon" href="../assets/eLugarLogo.ico" type="image/x-icon" />
    <title>êLugar</title>

    <link href="../../assets/stylesheets/css/bootstrap.min.css" rel="stylesheet">

    <link href="../../assets/stylesheets/landing-page.css" rel="stylesheet">

    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
</head>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<body>

  <%=render 'layouts/navbar' %>
  <div class ="intro-header-compare">
          </br>
          </br>
          </br>
          <% if @city1 && @city2 %>
              <%= render 'cities/compare1'%>
          <% elsif @city1 %>
              <%=render 'cities/compare2'%>
          <% end %>

	</div>

  <div id="container" style="min-width: 400px; max-width: 600px; height: 400px; margin: 0 auto"></div>


  <script>

  <%= @array1 = [@city1.population, @city1.demographic_density, @city1.area, @city1.fleet, @city1.idh, @city1.gini, @city1.health, @city1.violence] %>

	<%= @array2 = [@city2.population, @city2.demographic_density, @city2.area, @city2.fleet, @city2.idh, @city2.gini, @city2.health, @city2.violence] %>

  $(function () {

		var values1 = [<%= raw @array1.to_json %>];
		var values2 = [<%= raw @array2.to_json %>];
		var name1 = [<%= raw @city1.name.to_json %>];
		var name2 = [<%= raw @city2.name.to_json %>];

  $('#container').highcharts({

      chart: {
          backgroundColor: '#E7EDDD',
          polar: true,
          type: 'line'
      },

      title: {
          text: name1+" vs "+name2,
          x: -80
      },

      pane: {
          size: '80%'
      },

      xAxis: {
          categories: ['População', 'Densidade demográfica', 'Tamanho da Cidade', 'Transporte',
                  'IDH', 'Gini', 'Saúde', 'Violência'],
          tickmarkPlacement: 'on',
          lineWidth: 0
      },

      yAxis: {
          gridLineInterpolation: 'polygon',
          lineWidth: 0,
          min: 0
      },

      tooltip: {
          shared: true,
          pointFormat: '<span style="color:{series.color}">{series.name}: <b>${point.y:,.0f}</b><br/>'
      },

      legend: {
          align: 'right',
          verticalAlign: 'top',
          y: 70,
          layout: 'vertical'
      },

      series: [{
          name: name1,
          data: values1,
          pointPlacement: 'on'
      }, {
          name: name2,
          data: values2,
          pointPlacement: 'on'
      }]

  });
});
  </script>
